import * as $ from '../gameObject/index.js'
import Vec2 from '../Vector.js'

export function Prologue(game) {
  game.levelData = {
    introDialogue: 'prologue/intro111',
    background: 'skyrev',
    spawnpoint: new Vec2(579, 392),
    cameraHeight: 216,
    cameraBound: {
      x: 480,
      y: 272,
      width: 1000,
      height: 180,
    },
    tileWidth: 200,
    tileHeight: 90,
  }

  game.tilePalette = ["Air","BetterCementSnow","AutumnGrassDead","PaleLimestone","DarkRockSnow","Rock","DarkRock","Straw","DarkRockMagma","BalatroSilver"]

  game.tileData = [
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                  999                     9999                          ',
    '                                                                                                                                          99                     99       9999                          ',
    '                                                                                                                                                                          9999                          ',
    '                                                                                                                                                                          9999                          ',
    '                                                                                                                                     99                     999      999                                ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                   99                                                   ',
    '                                                                                                                                           99                                                           ',
    '                                                                                                                                                          99                                            ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                              999                                       ',
    '                                                                                                                                                       9      999                                       ',
    '                                1111111111111111111                                                                                             9999          999                                       ',
    '                                1111111111111111111                                                                                                                                                     ',
    '                                1111111111111111111                                                                                      99                                                             ',
    '                                1111111111111111111                                                                                                                                                     ',
    '                                1111111111111111111                                                                                                         9999         9999                           ',
    '                                1111111111111111111                                                                                          99             9  9  9 9 9  9  9                           ',
    '                                1111111111111111111                                                                                                         9  9  9 9 9  9  9                           ',
    '                                1111111111111111111                                                                                              99999      9 99  9 9 9  9 99                           ',
    '                                1111111111111111111                                                                                                         99999  9999  99999                          ',
    '                                1111111111111111111                                                                                                                                                     ',
    '                                111111111111111111             1                                                                                                                                        ',
    '                                111111111111111111             1                                                                                                                                        ',
    '                                111111111111111111             11                                                                                                                                       ',
    '                                111111111111111111            1111                                                                                                                                      ',
    '                                11111111111111111             1111                                                                                                                                      ',
    '                                11111111111111111             1111                                                                                                                                      ',
    '                                11111111111111111            111111                                                                                                                                     ',
    '                                11111111111111111            111111                                                                                                                                     ',
    '                                11111111111111111            111111                                                                                  444444                    444444444444             ',
    '                                11111111111111111           11111111                                                                                44444444                  4444444444444             ',
    '                                11111111111111111           11111111                                                  444444444444                444444444444              444444444444444             ',
    '                                11111111111111111          111111111                                                  4444444444444444444444444444444444444444444444444  444444444444444444             ',
    '                                111111111111111111         1111111111                                                 4444444444444444444444444444444444444444444444444  644444444444444444             ',
    '                                111111111111111111         1111111111                                                        444444444444444444444444444444444444444446  644444444444444444             ',
    '                                111111111111111111111     11111111111                                                        444444444444444444444444444444444444444444  644444444444444444             ',
    '                                11111111111111111111111111111111111111                                                       444444444444444444444444444444444444444464  644444444444444444             ',
    '                                111111111111111111111111111111111111111                                                      444444444444444444444444444444444444446664  646444444444444444             ',
    '                                111111111111111111111111111111111111111                                                      444444444444444444444444444444444444446444  646644444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       666666              44444444444444444444444444444444444444444464      4664444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       666666              44444444444444444444444444444444444444444464 7777 4664444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       666666              44444444444444444444444444444444444444444464      4664444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       666666              444444444444444444444444444444444444444444666666666444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       666666              444444444444444444444444444444444444444444444444466444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                1111111111111111111111111111111111111111111111111111     44444       444444              444444444444444444444444444444444444444444444444444444444444444444             ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
    '                                                                                                                                                                                                        ',
  ]

  game.sound.playBGM('Home')

  game.gameObjects.push(

    new $.CameraController(344, 240, 320, 180, -152, 0, 1, 0).hide(),
    new $.CameraController(480, 272, 1000, 180, -64, -16, 1, 180).hide(),
    new $.CameraController(1016, 40, 384, 248, 0, -16, 1, 216).hide(),
    new $.Collectible(410, 366, 'sprite/strawberry', false),
    new $.Collectible(778, 371, 'sprite/linggangu', false),
    new $.Collectible(982, 398, 'sprite/linggangu', false),
    new $.Collectible(1330, 106, 'sprite/strawberry', false),
    new $.Collectible(1342, 406, 'sprite/strawberry', false),
    new $.Hazard(664, 472, 456, 8, 'up').hide(),
    new $.Hazard(1040, 344, 128, 8, 'up'),
    new $.Hazard(1248, 208, 32, 8, 'up'),
    new $.Hazard(1256, 168, 8, 24, 'left'),
    new $.Hazard(1264, 160, 24, 8, 'up'),
    new $.Hazard(1264, 192, 24, 8, 'down'),
    new $.Hazard(1288, 168, 8, 24, 'right'),
    new $.Hazard(1312, 120, 8, 8, 'left'),
    new $.Hazard(1336, 360, 8, 40, 'right'),
    new $.Hazard(1344, 360, 8, 40, 'left'),
    new $.Hazard(1352, 88, 8, 32, 'left'),
    new $.Hazard(1352, 208, 32, 8, 'up'),
    new $.Hazard(1360, 80, 32, 8, 'up'),
    new $.Hazard(1360, 120, 32, 8, 'down'),
    new $.Hazard(1392, 88, 8, 32, 'right'),
    new $.Interactable(436, 368, 16, 16, 'prologue/easter_egg', 'character/dingzhen/normal', '按 E 对话', false, (game, $) => {
      game.achievement.add('i_am_my_own_grandpa')
    }),
    new $.Interactable(632, 392, 16, 16, '', 'sprite/sign', '按下A/D键左右移动，空格键进行跳跃', false, null),
    new $.Interactable(824, 392, 16, 16, 'prologue/zhishiqie', 'character/zhishiqie/normal', '按E进行对话', false, null),
    new $.Interactable(1016, 328, 16, 16, '', 'sprite/sign', '小心尖刺！', false, null),
    new $.Interactable(1208, 312, 16, 16, '', 'sprite/sign', '在脚手架上按住S可以下降', false, null),
    new $.Interactable(1296, 336, 16, 16, '', 'sprite/sign', '这些刺其实没有看上去那么大。', false, null),
    new $.LevelChanger(600, 392, 16, 16, '测试大厅', false),
    new $.LevelChanger(1480, 0, 16, 328, 'Stage1', true).hide(),
    new $.MovingPlatform(new Vec2(880, 416), new Vec2(880, 336), 40, 8, false, 4, 'linear'),
    new $.MovingPlatform(new Vec2(1048, 336), new Vec2(1136, 336), 24, 8, false, 4, 'sin'),
    new $.Platform(1200, 256, 32, 8, true),
    new $.Platform(1200, 280, 32, 8, true),
    new $.Platform(1200, 304, 32, 8, true),
    new $.Trigger(952, 296, 216, 48, false, (game, $) => {
      game.levelData.spawnpoint = new Vec2(1003, 328)
    }, null).hide(),
    new $.Trigger(1160, 224, 40, 24, false, (game, $) => {
      game.levelData.spawnpoint = new Vec2(1175, 224)
    }, null).hide(),
    new $.Trigger(1176, 296, 280, 48, false, (game, $) => {
      game.levelData.spawnpoint = new Vec2(1275, 336)
    }, null).hide(),
    new $.Trigger(1328, 408, 32, 16, false, (game, $) => {
      game.player.jumpSpeed *= 2
    }, (game, $) => {
      game.player.jumpSpeed /= 2
    }).hide()
  )
}
